
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Unity3D - ProjectDocument</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unity3d" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="ProjectDocument" class="md-header__button md-logo" aria-label="ProjectDocument" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ProjectDocument
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Unity3D
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="ProjectDocument" class="md-nav__button md-logo" aria-label="ProjectDocument" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ProjectDocument
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        README
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          1. 原理&概念
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1. 原理&概念" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          1. 原理&概念
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/Astar.html" class="md-nav__link">
        A STAR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/SOM.html" class="md-nav__link">
        SOM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E6%97%A0%E4%BA%BA%E8%89%87.html" class="md-nav__link">
        无人艇
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E6%B5%B7%E6%B5%AA.html" class="md-nav__link">
        海浪
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%B7%AF%E5%BE%84%E8%B7%9F%E8%B8%AA.html" class="md-nav__link">
        路径跟踪
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/index.html">自抗扰控制</a>
          
            <label for="__nav_2_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="自抗扰控制" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          自抗扰控制
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%80%A6%E5%90%88%E7%B3%BB%E7%BB%9F%E6%8E%A7%E5%88%B6.html" class="md-nav__link">
        耦合系统控制
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6%E5%85%A5%E9%97%A8%20%E6%9C%B1%E6%96%8C.html" class="md-nav__link">
        自抗扰控制入门 朱斌
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6%E5%8E%9F%E7%90%86%E7%AC%94%E8%AE%B0.html" class="md-nav__link">
        自抗扰控制原理笔记
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6_5" type="checkbox" id="__nav_2_6_5" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0/index.html">视频笔记</a>
          
            <label for="__nav_2_6_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="视频笔记" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_6_5">
          <span class="md-nav__icon md-icon"></span>
          视频笔记
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0/ADRC%E8%AE%BE%E8%AE%A1.html" class="md-nav__link">
        ADRC 设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../1.%20%E5%8E%9F%E7%90%86%26%E6%A6%82%E5%BF%B5/%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6/%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0/%E8%96%9B%E6%96%87%E8%B6%85%20%E8%87%AA%E6%8A%97%E6%89%B0%E6%8E%A7%E5%88%B6.html" class="md-nav__link">
        薛文超 自抗扰控制
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          2. 代码设计
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2. 代码设计" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          2. 代码设计
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../1.%20%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/index.html">1. 路径规划</a>
          
            <label for="__nav_3_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="1. 路径规划" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          1. 路径规划
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92/code.html" class="md-nav__link">
        代码设计
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2">
          2. 无人艇、路径跟踪
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2. 无人艇、路径跟踪" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          2. 无人艇、路径跟踪
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ADRC%20%E8%B0%83%E8%AF%95.html" class="md-nav__link">
        ADRC 调试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="MATLAB.html" class="md-nav__link">
        MATLAB
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Unity3D
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Unity3D.html" class="md-nav__link md-nav__link--active">
        Unity3D
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-kinematicusvcs" class="md-nav__link">
    1 关于无人艇模型 KinematicUSV.cs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-adrc" class="md-nav__link">
    2 关于推力限定与ADRC控制
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3 运行期间控制观察角度
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-transform" class="md-nav__link">
    4 控制船位移 Transform
  </a>
  
    <nav class="md-nav" aria-label="4 控制船位移 Transform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 船的位置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    4.2 船的角度
  </a>
  
    <nav class="md-nav" aria-label="4.2 船的角度">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    4.2.1 平滑旋转
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422" class="md-nav__link">
    4.2.2 直接设定角度
  </a>
  
    <nav class="md-nav" aria-label="4.2.2 直接设定角度">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4221" class="md-nav__link">
    4.2.2.1 角度转化问题
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-fromtorotation" class="md-nav__link">
    4.2.3 FromToRotation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 生成任务点
  </a>
  
    <nav class="md-nav" aria-label="5 生成任务点">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-further" class="md-nav__link">
    5.1 Further
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 画线
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 环境搭建
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-disturbancecs" class="md-nav__link">
    8 Disturbance.cs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    9 坐标系
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="%E6%A8%A1%E5%9E%8B%E7%BC%96%E5%86%99.html" class="md-nav__link">
        模型编写
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_5" type="checkbox" id="__nav_3_2_5" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="Scene/index.html">Scene</a>
          
            <label for="__nav_3_2_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Scene" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_5">
          <span class="md-nav__icon md-icon"></span>
          Scene
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_5_2" type="checkbox" id="__nav_3_2_5_2" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="Scene/Ceto/index.html">Ceto</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Ceto" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_5_2">
          <span class="md-nav__icon md-icon"></span>
          Ceto
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_5_3" type="checkbox" id="__nav_3_2_5_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2_5_3">
          Terrain
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Terrain" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_5_3">
          <span class="md-nav__icon md-icon"></span>
          Terrain
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Scene/Terrain/%E5%9C%B0%E5%9B%BE%E7%94%9F%E6%88%90.html" class="md-nav__link">
        地图生成
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../3.%20Archived/index.html">3. Archived</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="3. Archived" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          3. Archived
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3.%20Archived/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB%E4%B8%8E%E7%BB%BC%E8%BF%B0.html" class="md-nav__link">
        文献阅读与综述
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3">
          开题报告
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="开题报告" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          开题报告
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3.%20Archived/%E5%BC%80%E9%A2%98%E6%8A%A5%E5%91%8A/%E5%BC%80%E9%A2%98%E6%8A%A5%E5%91%8A.html" class="md-nav__link">
        开题报告
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" type="checkbox" id="__nav_4_4" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4">
          文献翻译
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="文献翻译" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          文献翻译
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../3.%20Archived/%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91/%E6%96%87%E7%8C%AE%E7%BF%BB%E8%AF%91.html" class="md-nav__link">
        在快速变化的干扰下，全动式自主潜水器的路径跟踪控制
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-kinematicusvcs" class="md-nav__link">
    1 关于无人艇模型 KinematicUSV.cs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-adrc" class="md-nav__link">
    2 关于推力限定与ADRC控制
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3 运行期间控制观察角度
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-transform" class="md-nav__link">
    4 控制船位移 Transform
  </a>
  
    <nav class="md-nav" aria-label="4 控制船位移 Transform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    4.1 船的位置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    4.2 船的角度
  </a>
  
    <nav class="md-nav" aria-label="4.2 船的角度">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421" class="md-nav__link">
    4.2.1 平滑旋转
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422" class="md-nav__link">
    4.2.2 直接设定角度
  </a>
  
    <nav class="md-nav" aria-label="4.2.2 直接设定角度">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#4221" class="md-nav__link">
    4.2.2.1 角度转化问题
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-fromtorotation" class="md-nav__link">
    4.2.3 FromToRotation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5 生成任务点
  </a>
  
    <nav class="md-nav" aria-label="5 生成任务点">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-further" class="md-nav__link">
    5.1 Further
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    6 画线
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 环境搭建
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-disturbancecs" class="md-nav__link">
    8 Disturbance.cs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    9 坐标系
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="unity3d">Unity3D<a class="headerlink" href="#unity3d" title="Permanent link">&para;</a></h1>
<div class="admonition info inline end">
<p><img alt="" src="assets/Unity3D/2022-05-11-09-39-50.png" /></p>
</div>
<p>场景 Auto</p>
<ul>
<li>海洋环境 <code>Ocean_OpaqueQueue</code> <sup id="fnref:ceto"><a class="footnote-ref" href="#fn:ceto">1</a></sup></li>
<li><code>Targets</code> 用于生成、展示目标点<ul>
<li><code>LoadTargets.cs</code></li>
</ul>
</li>
<li><code>USV Group</code> 用于生成、控制无人艇<ul>
<li><code>Navigation.cs</code> 创建无人艇, 并实时更新无人艇控制的参考输入, 即导引算法</li>
<li><code>USV Variant</code> 预制体<ul>
<li><code>KinematicUSV.cs</code> 无人艇运动学模型</li>
<li><code>Disturbance.cs</code> 随波浪飘动. (crest 海洋环境有现成的效果<sup id="fnref:crest"><a class="footnote-ref" href="#fn:crest">2</a></sup>)</li>
<li><code>MoveController.cs</code> 创建ADRC控制器对无人艇的速度和航向进行控制<ul>
<li><code>class ADRC</code> ADRC 控制器</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-kinematicusvcs">1 关于无人艇模型 <code>KinematicUSV.cs</code><a class="headerlink" href="#1-kinematicusvcs" title="Permanent link">&para;</a></h2>
<p>Unity 中有刚体组件可以添加力之类的, 但是无人艇运动模型要更复杂一些, 我没想到如何用Unity的刚体实现此模型.<br />
<code>KinematicUSV.cs</code>, 根据控制器给出的推力和转矩, 对 transform 进行更新. (也保留外部对其更改)</p>
<p>后续应该与刚体组件进行兼容,<br />
例如舍弃无人艇模型中的 x, y, psi 状态变量, 直接由Unity里的坐标和旋转信息获取.<br />
无人艇模型中的速度和角速度与刚体组件的速度和角速度同步. (?)<br />
这样通过对刚体组件施加力, 就可以通过 <code>KinematicUSV.cs</code> 计算得到速度. (?)</p>
<h2 id="2-adrc">2 关于推力限定与ADRC控制<a class="headerlink" href="#2-adrc" title="Permanent link">&para;</a></h2>
<p>MATLAB 里螺旋桨推力限定为 <span class="arithmatex">\([0,50]\)</span>,</p>
<p>但是螺旋桨反转的话, 力的方向就相反. 所以推力可以为负</p>
<p>ADRC 需要调整:</p>
<ol>
<li><strong>控制量输出震荡比较大</strong>, 参数应该还需要再调一下, 对于微小偏差反映比较大</li>
<li>还有很重要的一点是, 另外对力进行限定的话, 又会产生一部分系统设计带来的"扰动", 例如控制器输出 100, 经过限定后变为 50, ADRC 会认为存在扰动并尝试增大输出来抵消此"扰动". 这有可能是控制器输出震荡的原因之一.</li>
</ol>
<h2 id="3">3 运行期间控制观察角度<a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<p>给 camera 挂脚本, 键盘控制, 调整 transform</p>
<p><a href="https://docs.unity.cn/cn/current/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a><br />
<a href="https://blog.csdn.net/yongh701/article/details/71082441">【Unity3D】键盘鼠标控制视角的移动_yongh701 的博客-CSDN 博客_unity 鼠标控制视角</a></p>
<h2 id="4-transform">4 控制船位移 Transform<a class="headerlink" href="#4-transform" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>查表</strong></p>
</blockquote>
<h3 id="41">4.1 船的位置<a class="headerlink" href="#41" title="Permanent link">&para;</a></h3>
<ol>
<li>直接更新 position  <code>transform.position = transform.position + delta;</code></li>
<li><a href="https://docs.unity.cn/cn/current/ScriptReference/Transform.Translate.html">Transform-Translate - Unity 脚本 API</a></li>
</ol>
<p>对于第二种方法，默认是船自身的坐标系。但是如果你的目标点、速度是在世界坐标系下的，就需要指定一下了。</p>
<h3 id="42">4.2 船的角度<a class="headerlink" href="#42" title="Permanent link">&para;</a></h3>
<p>Transform.rotation 存储的并不是 Inspector 面板上看到的</p>
<blockquote>
<p><a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Transform-rotation.html">Transform.rotation</a> 存储 <a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Quaternion.html">Quaternion</a>。可以使用 <a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Transform-rotation.html">rotation</a> 来旋转 GameObject 或提供当前旋转。请勿尝试编辑/修改 <a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Transform-rotation.html">rotation</a>。<a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Transform-rotation.html">Transform.rotation</a> 小于 180 度。</p>
</blockquote>
<p>要查看面板上显示的角度, 可以使用 <code>transform.rotation.eulerAngles</code></p>
<ol>
<li>rotate:</li>
<li>look at: 只需要知道船要对准的点(也就是目标点)就好了<br />
<a href="https://docs.unity.cn/cn/current/ScriptReference/Transform.LookAt.html">Transform-LookAt - Unity 脚本 API</a></li>
</ol>
<p><a href="https://blog.csdn.net/cjj7905150/article/details/113606953">Unity欧拉角、四元素、旋转量_deanchang的博客-CSDN博客_unity欧拉角旋转顺序</a></p>
<h4 id="421">4.2.1 平滑旋转<a class="headerlink" href="#421" title="Permanent link">&para;</a></h4>
<p><a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Transform-rotation.html">Transform-rotation - Unity 脚本 API</a><br />
<a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Quaternion.RotateTowards.html">Quaternion-RotateTowards - Unity 脚本 API</a> 这个可以指定方位, 慢慢旋转.</p>
<h4 id="422">4.2.2 直接设定角度<a class="headerlink" href="#422" title="Permanent link">&para;</a></h4>
<p><code>transform.eulerAngles = new Vector3(0, psi, 0);</code><br />
这个修改就和面板上的数据一致了.<br />
<code>transform.rotation = Quaternion.Euler(90, 0, 0);</code> 这个效果好像也一样.</p>
<h5 id="4221">4.2.2.1 角度转化问题<a class="headerlink" href="#4221" title="Permanent link">&para;</a></h5>
<p>Unity3D 里船头朝向的角度是 <span class="arithmatex">\(\theta_1\)</span>, 原始数据是 <span class="arithmatex">\(\theta_2\)</span><br />
两者关于 <span class="arithmatex">\(\frac\pi 4\)</span> 对称. 满足关系 <span class="arithmatex">\(\theta_1+\theta_2=\frac \pi 2+2k\pi\)</span> (不知道应该怎么推导, 我归纳出来的)</p>
<p><img alt="" src="assets/Unity3D/2022-04-23-14-14-20.png" /></p>
<h4 id="423-fromtorotation">4.2.3 FromToRotation<a class="headerlink" href="#423-fromtorotation" title="Permanent link">&para;</a></h4>
<p><a href="https://docs.unity3d.com/cn/2020.3/ScriptReference/Quaternion.FromToRotation.html">Quaternion-FromToRotation - Unity 脚本 API</a> 让一个轴指向指定的方向.</p>
<blockquote>
<p>Usually you use this to rotate a transform so that one of its axes eg. the z-axis - follows a target direction <code>toDirection</code> in world space.</p>
</blockquote>
<p>指定船的 z 轴始终指向 世界坐标系下的某个方向.<br />
<code>System.Math.Sin()</code> 使用弧度单位.<br />
计算弧度时, <code>30 / 180 * Math.PI</code>, 不起作用… 要把 PI 放前面, <del>不知道为啥</del> 原因是 <code>C#</code> 计算的前两个数都是整数, 得到的就是整数 0… 除了 PI 放前面, 还可以变成 <code>30.0</code> .</p>
<p>只能保证 z 轴指向, 并不能保证其他轴不变…<br />
<img alt="" src="assets/Unity3D/2022-04-23-12-20-42.png" /></p>
<h2 id="5">5 生成任务点<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<p>根据预制体生成新的物体是参考的 <a href="https://blog.csdn.net/qq_38913715/article/details/120363368">unity 用代码加载并创建一个预制体实例以及设置 position_lifereset 的博客-CSDN 博客_unity 代码加载预制体</a></p>
<blockquote>
<p>可能也有其他方法 <a href="https://blog.csdn.net/lq1340817945/article/details/105596545">Unity 编辑器拓展功能之代码动态创建预制体_lq1340817945 的博客-CSDN 博客_unity 动态创建预制体</a></p>
</blockquote>
<p>生成的物体默认是放在最外边… 想要设置层级关系为子物体.</p>
<div class="admonition note">
<p class="admonition-title">设置物体的 father</p>
</div>
<p><a href="https://docs.unity.cn/cn/current/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a><br />
    Unity 的层级关系是体现在 transform 里面.<br />
    child 的 transform 位置以 father 的 transform 位置为起点.<br />
    设成子物体的好处在于:<br />
    1. 看着不乱<br />
    2. 可以统一管理<br />
         1. 方便查找 <a href="https://docs.unity.cn/cn/current/ScriptReference/Transform.Find.html">Transform-Find - Unity 脚本 API</a><br />
         2. 同步更新 <code>foreach (Transform child in transform) { xxx }</code></p>
<p>最终可以这样写:</p>
<div class="highlight"><pre><span></span><code><span class="n">GameObject</span> <span class="n">go</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="n">Instantiate</span><span class="p">(</span><span class="n">Resources</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="s">&quot;Target&quot;</span><span class="p">))</span> <span class="k">as</span> <span class="n">GameObject</span><span class="p">;</span>
<span class="n">go</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
<span class="n">go</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">SetParent</span><span class="p">(</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Transform</span><span class="p">&gt;());</span> 
</code></pre></div>
<p><img alt="" src="assets/Unity3D/2022-04-21-19-24-05.png" /></p>
<h3 id="51-further">5.1 Further<a class="headerlink" href="#51-further" title="Permanent link">&para;</a></h3>
<p><a href="https://docs.unity.cn/cn/current/ScriptReference/Object.Instantiate.html">Object-Instantiate - Unity 脚本 API</a><br />
一方面其实可以在最开始就指定 position 和 parent. (不过代码就会很长)<br />
另一方面 "这些方法不会创建与新实例化对象的预制件连接。可以使用 <a href="https://docs.unity.cn/cn/current/ScriptReference/PrefabUtility.InstantiatePrefab.html">PrefabUtility.InstantiatePrefab</a> 创建具有预制件连接的对象。"</p>
<h2 id="6">6 画线<a class="headerlink" href="#6" title="Permanent link">&para;</a></h2>
<p><a href="https://docs.unity3d.com/cn/2018.4/Manual/class-LineRenderer.html">线渲染器 (Line Renderer) - Unity 手册</a><br />
<a href="https://docs.unity3d.com/cn/2018.4/Manual/class-TrailRenderer.html">轨迹渲染器 (Trail Renderer) - Unity 手册</a></p>
<p>创建一个空物体，然后添加 Trail Renderer. 这样好调线的位置.<br />
然后线添加材质, 控制外观.</p>
<h2 id="7">7 环境搭建<a class="headerlink" href="#7" title="Permanent link">&para;</a></h2>
<p>见 <a href="./Scene/">Scene 部分</a>.</p>
<h2 id="8-disturbancecs">8 <code>Disturbance.cs</code><a class="headerlink" href="#8-disturbancecs" title="Permanent link">&para;</a></h2>
<div class="admonition summary">
<p class="admonition-title">Summary</p>
<p>其实波浪扰动应该是获得一个力和力矩, 然后通过 Unity 里的刚体组件施加.<br />
但是我暂时没找到好的方法让船的模型与刚体组件相融合<br />
总的来说, 只是实现了一个简简简易版本的扰动作用</p>
</div>
<p>随波浪流动的干扰效果</p>
<p>查询波浪信息, 从而获得一个扰动<br />
主要参考: CetoManual</p>
<p>使用 Ceto namespace 后, <code>Ocean.Instance</code> 可以查询到当前海洋物体.</p>
<p><strong>波浪信息查询:</strong><br />
<strong><code>WaveQuery query = new WaveQuery(transform.position);</code></strong><br />
可在代码中找到 <strong>WaveQuery</strong> 的定义, 及其可查询到的信息.<br />
Ocean 类的 Query 方法也可以用. 细节不一样.</p>
<p><strong>波高</strong><br />
<img alt="" src="assets/Unity3D/626905a3239250f7c5bb12d6.png" /></p>
<p><strong>法线</strong><br />
<img alt="" src="assets/Unity3D/626905b5239250f7c5bb31bd.png" /></p>
<p><strong>波速</strong><br />
手册里没有提, 但是可以从 WaveSpectrum 中获取到.<br />
<code>Ocean.Instance.Spectrum.waveSpeed</code></p>
<p><strong>随波浪前进</strong><br />
displacementX, displacementZ 是两个方向上的位移<br />
<img alt="" src="assets/Unity3D/626902eb239250f7c5b52375.png" /><br />
上图代码把速度替换成波速 (乘以deltaTime) 就是随波浪流动了.</p>
<div class="admonition note">
<p class="admonition-title">修改位置</p>
<p><img alt="" src="assets/Unity3D/2022-05-11-10-49-14.png" /></p>
</div>
<p>后来发展, 这种扰动作用的实现是直接修改船的位置, 不会影响 KinematicUSV 里面的速度和角度, 进而也不会被(速度和角度)控制器观测到.</p>
<div class="admonition note">
<p class="admonition-title">修改速度</p>
<p>后来改成修改速度和角度. 将波浪的速度与船的速度进行叠加.<br />
单纯扰动作用下船的轨迹 (速度在0.5m/s-6m/s)<br />
<img alt="" src="assets/Unity3D/2022-05-14-11-24-38.png" /><br />
<img alt="" src="assets/Unity3D/2022-05-14-11-56-02.png" /><br />
<img alt="" src="assets/Unity3D/disturbance.svg" /><br />
这样看的话其实扰动挺小的… 但是是每次更新都会改变这么多, 计算一个累积量就知道了.<br />
其实前半段是体现了抗扰作用, 但是当扰动相对大到一定程度效果就不好了<br />
比如中间突起那一段, 还有后半段当船速下降后, 系统就开始不稳定了… (也有可能是我实现的方法有未知bug)<br />
<img alt="" src="assets/Unity3D/disturbance1.svg" /><br />
总的来说, 扰动的实现需要有更好的方法.</p>
</div>
<p><img alt="" src="assets/Unity3D/2022-05-14-13-40-38.png" /></p>
<p>逐渐增加强度, 印证了上面的想法… 扰动小时可以抵消一些, 大时就不稳定了.<br />
<img alt="" src="assets/Unity3D/disturbance_increase.svg" /><br />
<img alt="" src="assets/Unity3D/disturbance_increase1.svg" /></p>
<h2 id="9">9 坐标系<a class="headerlink" href="#9" title="Permanent link">&para;</a></h2>
<p>有一个不一样的坐标系, 比较容易混淆, 简单总结一下:</p>
<p><img alt="" src="assets/Unity3D/6267b2b3239250f7c51b1da1.png" /></p>
<ul>
<li>普通坐标系是我们一般习惯的, 左下角是坐标原点的坐标系.</li>
<li>Unity 里的坐标系(这里不提垂直方向的y), 名字变了, psi (旋转角度) 方向变了, 规律是: 与普通坐标系下计算得到角度的和是<span class="arithmatex">\(0.5\pi+2k\pi\)</span></li>
<li>船坐标系其实和Unity里的坐标系是一致的, 只有名字变了.</li>
<li>另外, 船坐标系和普通坐标系沿 y=x 有对称关系, 就像一张纸从正反两面去看… 所以计算的时候是一样的… 假如你在普通坐标系下计算 f(x,y), 在 船/Unity 这个坐标系下计算 f(y,x) 结果是一样的. (总之有点乱…)</li>
<li>总之…<ul>
<li>普通坐标系转换为 Unity 坐标系: Unity_z=Norm_x; Unity_x=Norm_y;</li>
<li>船坐标系转换为 Unity 坐标系: Unity_z=Boat_x; Unity_x=Boat_y;</li>
</ul>
</li>
</ul>
<p>在三个体系下有三套坐标系, 但不论怎样, 计算时画好坐标系, <strong>统一成一个</strong>才不会算错</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:ceto">
<p><a href="https://github.com/Scrawk/Ceto">Scrawk/Ceto: Ceto: Ocean system for Unity</a>&#160;<a class="footnote-backref" href="#fnref:ceto" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:crest">
<p><a href="https://github.com/wave-harmonic/crest">wave-harmonic/crest: An advanced ocean system implemented in Unity3D</a>&#160;<a class="footnote-backref" href="#fnref:crest" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="MATLAB.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: MATLAB" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              MATLAB
            </div>
          </div>
        </a>
      
      
        
        <a href="%E6%A8%A1%E5%9E%8B%E7%BC%96%E5%86%99.html" class="md-footer__link md-footer__link--next" aria-label="Next: 模型编写" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              模型编写
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c44cc438.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>